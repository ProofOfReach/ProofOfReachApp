<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bitcoin Observer - Powered by ProofOfReach</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f9fafb;
        color: #111;
      }
      header {
        background-color: #8b5cf6;
        padding: 1rem 2rem;
        color: white;
        font-size: 1.5rem;
        font-weight: bold;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      header .bitcoin-price {
        font-size: 0.9rem;
        background-color: rgba(255, 255, 255, 0.2);
        padding: 0.5rem 1rem;
        border-radius: 1rem;
      }
      main {
        display: flex;
        flex-direction: row;
        max-width: 1000px;
        margin: 2rem auto;
        padding: 0 1rem;
      }
      article {
        flex: 3;
        margin-right: 2rem;
      }
      .sidebar {
        flex: 1;
        background: #fff;
        border-radius: 8px;
        padding: 1rem;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        height: fit-content;
      }
      h2 {
        color: #4f46e5;
      }
      pre {
        background-color: #1e293b;
        color: #e2e8f0;
        padding: 1rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        margin: 1.5rem 0;
      }
      code {
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 0.9rem;
      }
      .highlight {
        background-color: rgba(79, 70, 229, 0.1);
        padding: 0.2rem;
        border-radius: 0.2rem;
      }
      .ad-container {
        margin-top: 2rem;
        border-radius: 8px;
        overflow: hidden;
      }
      .wallet-box {
        margin-top: 2rem;
        padding: 1rem;
        border: 1px solid #e2e8f0;
        background-color: #f0fdf4;
        font-size: 0.9rem;
        border-radius: 8px;
        position: relative;
        overflow: hidden;
      }
      .wallet-box::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 50px;
        height: 50px;
        background: linear-gradient(45deg, transparent 50%, #86efac 50%);
      }
      .code-tabs {
        margin-top: 2rem;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        overflow: hidden;
      }
      .code-tabs-header {
        display: flex;
        background-color: #f3f4f6;
        border-bottom: 1px solid #e5e7eb;
      }
      .code-tab {
        padding: 0.75rem 1.5rem;
        font-size: 0.9rem;
        cursor: pointer;
        border-right: 1px solid #e5e7eb;
      }
      .code-tab.active {
        background-color: #ffffff;
        font-weight: bold;
        border-bottom: 2px solid #4f46e5;
        margin-bottom: -1px;
      }
      .code-content {
        padding: 1rem;
        background-color: #ffffff;
      }
      #sdk-implementation {
        display: block;
      }
      #npm-installation {
        display: none;
      }
      #custom-integration {
        display: none;
      }
      .copy-button {
        background-color: #4f46e5;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 0.25rem;
        font-size: 0.8rem;
        cursor: pointer;
        margin-top: 1rem;
        display: inline-flex;
        align-items: center;
      }
      .copy-button:hover {
        background-color: #4338ca;
      }
      .copy-icon {
        margin-right: 0.5rem;
      }
      footer {
        text-align: center;
        padding: 1rem;
        font-size: 0.8rem;
        color: #555;
        margin-top: 3rem;
        border-top: 1px solid #e5e7eb;
      }
      .satoshi-animation {
        transition: all 0.5s ease;
        display: inline-block;
      }
      .satoshi-animation.bump {
        transform: scale(1.5);
        color: #4f46e5;
      }
      @media (max-width: 768px) {
        main {
          flex-direction: column;
        }
        article {
          margin-right: 0;
        }
        .sidebar {
          margin-top: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div>Bitcoin Observer</div>
      <div class="bitcoin-price">BTC: $79,241</div>
    </header>

    <main>
      <article>
        <h2>Ordinals and Lightning: The New Frontier</h2>
        <p>
          As Bitcoin evolves beyond a simple currency, new protocols like
          <span class="highlight">Ordinals</span> and innovations like the <span class="highlight">Lightning Network</span> are opening fresh
          use cases. Whether it's NFTs on Bitcoin or micro-advertising powered
          by Lightning, 2025 is proving to be a pivotal year for crypto
          adoption.
        </p>

        <p>
          In this special feature, we explore how new decentralized ad exchanges
          like <span class="highlight">ProofOfReach</span> are using Nostr identities and Lightning payments to
          revolutionize how publishers monetize content.
        </p>

        <!-- Ad Placement -->
        <div class="ad-container" id="proof-of-reach-ad">
          <!-- SDK will inject ad here -->
          <p style="text-align: center; padding: 2rem; background: #f3f4f6; margin: 0;"><em>Loading ad from ProofOfReach...</em></p>
        </div>

        <!-- Simulated Wallet Display -->
        <div class="wallet-box" id="wallet-box">
          <strong>Publisher Wallet Balance:</strong>
          <span id="wallet-balance">0</span> <span class="satoshi-animation">sats</span> âš¡
          <div style="margin-top: 0.5rem; font-size: 0.8rem; color: #6b7280;">
            <em>Click on the ad to simulate earning sats through Lightning Network!</em>
          </div>
        </div>
        
        <div class="code-tabs">
          <div class="code-tabs-header">
            <div class="code-tab active" onclick="showTab('sdk-implementation')">SDK Implementation</div>
            <div class="code-tab" onclick="showTab('npm-installation')">NPM Installation</div>
            <div class="code-tab" onclick="showTab('custom-integration')">Custom Integration</div>
          </div>
          <div class="code-content">
            <div id="sdk-implementation">
              <p>Add ProofOfReach to your website with just 2 lines of code:</p>
              <pre><code>&lt;!-- Include ProofOfReach SDK --&gt;
&lt;script src="https://cdn.proofofreach.com/sdk/v1/proof-of-reach-sdk.js"&gt;&lt;/script&gt;

&lt;!-- Place this where you want the ad to appear --&gt;
&lt;div id="proof-of-reach-ad"&gt;&lt;/div&gt;

&lt;script&gt;
  // Initialize when page loads
  window.addEventListener("load", () => {
    ProofOfReachSDK.renderAd("proof-of-reach-ad", {
      pubkey: "your-nostr-pubkey", // Your Nostr public key
      adType: "standard",          // standard, small, or banner
      testMode: false              // Set to false in production
    });
  });
&lt;/script&gt;</code></pre>
              <button class="copy-button" onclick="copyToClipboard('sdk-implementation')">
                <span class="copy-icon">ðŸ“‹</span> Copy Code
              </button>
            </div>
            <div id="npm-installation">
              <p>Install our NPM package for more advanced integrations:</p>
              <pre><code>npm install @proofofreach/sdk --save

// In your JavaScript/TypeScript file
import { ProofOfReachSDK } from '@proofofreach/sdk';

// Initialize the SDK
const pofr = new ProofOfReachSDK({
  apiKey: 'your-api-key',  // Get from dashboard
  pubkey: 'your-nostr-pubkey',
  testMode: process.env.NODE_ENV !== 'production'
});

// Render ad in specific container
pofr.renderAd('ad-container-id', {
  adType: 'standard',
  refreshInterval: 300000, // 5 minutes
  onPayment: (satoshis) => {
    console.log(`Received ${satoshis} sats payment!`);
    // Update your UI or wallet balance
  }
});</code></pre>
              <button class="copy-button" onclick="copyToClipboard('npm-installation')">
                <span class="copy-icon">ðŸ“‹</span> Copy Code
              </button>
            </div>
            <div id="custom-integration">
              <p>Advanced custom integration with full control:</p>
              <pre><code>// Direct API integration
async function fetchProofOfReachAd() {
  const response = await fetch('https://api.proofofreach.com/v1/ads/serve', {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': 'Bearer YOUR_API_KEY',
    },
    params: {
      pubkey: 'your-nostr-pubkey',
      placement: 'article',
      keywords: ['bitcoin', 'lightning', 'nostr']
    }
  });
  
  if (!response.ok) {
    throw new Error(`HTTP error ${response.status}`);
  }
  
  const adData = await response.json();
  
  // Render ad with your own custom UI
  const adContainer = document.getElementById('your-ad-container');
  adContainer.innerHTML = `
    &lt;div class="custom-ad" onclick="trackAdClick('${adData.id}')"&gt;
      &lt;img src="${adData.imageUrl}" alt="Advertisement" /&gt;
      &lt;h3&gt;${adData.title}&lt;/h3&gt;
      &lt;p&gt;${adData.description}&lt;/p&gt;
      &lt;button&gt;${adData.callToAction}&lt;/button&gt;
    &lt;/div&gt;
  `;
  
  // Report impression
  fetch('https://api.proofofreach.com/v1/ads/impression', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': 'Bearer YOUR_API_KEY',
    },
    body: JSON.stringify({ adId: adData.id }),
  });
}</code></pre>
              <button class="copy-button" onclick="copyToClipboard('custom-integration')">
                <span class="copy-icon">ðŸ“‹</span> Copy Code
              </button>
            </div>
          </div>
        </div>
      </article>

      <aside class="sidebar">
        <h3>About ProofOfReach</h3>
        <p>
          ProofOfReach is a decentralized Lightning ad network built on Nostr that:
        </p>
        <ul>
          <li>Verifies real human engagement</li>
          <li>Pays publishers instantly with Lightning</li>
          <li>Eliminates ad fraud with cryptographic proof</li>
          <li>Requires no personal data collection</li>
        </ul>
        <p>
          <strong>Benefits for Publishers:</strong>
        </p>
        <ul>
          <li>Higher revenue than traditional networks</li>
          <li>Instant Bitcoin micropayments</li>
          <li>No minimum payout thresholds</li>
          <li>Simple integration in minutes</li>
        </ul>
        <div style="margin-top: 1rem;">
          <a href="#" style="display: inline-block; background-color: #4f46e5; color: white; padding: 0.5rem 1rem; border-radius: 0.25rem; text-decoration: none; font-weight: bold; text-align: center;">Sign Up as Publisher</a>
        </div>
      </aside>
    </main>

    <footer>
      <p>&copy; 2025 Bitcoin Observer Â· A demo for <strong>ProofOfReach</strong> Â· <a href="#" style="color: #4f46e5;">Documentation</a> Â· <a href="#" style="color: #4f46e5;">GitHub</a></p>
    </footer>

    <!-- Include ProofOfReach SDK -->
    <script src="/sdk/proof-of-reach-sdk.js"></script>

    <!-- Demo Integration Logic -->
    <script>
      // Simulated targeting params
      const nostrPubkey =
        "npub1demo000000000000000000000000000000000000000000000000000000000"; // replace if needed

      console.log("ðŸ”‘ Nostr Pubkey:", nostrPubkey);

      // Initialize SDK and render ad
      window.addEventListener("load", () => {
        if (window.ProofOfReachSDK && window.ProofOfReachSDK.renderAd) {
          ProofOfReachSDK.renderAd("proof-of-reach-ad", {
            pubkey: nostrPubkey,
            testMode: true,
            onPayment: (sats) => {
              const balanceEl = document.getElementById("wallet-balance");
              const current = parseInt(balanceEl.textContent, 10);
              balanceEl.textContent = current + sats;
              
              // Animate the sats text
              const satoshiAnimation = document.querySelector('.satoshi-animation');
              satoshiAnimation.classList.add('bump');
              setTimeout(() => {
                satoshiAnimation.classList.remove('bump');
              }, 500);
              
              console.log(`ðŸ’° Simulated payout received: ${sats} sats`);
            },
          });
        } else {
          document.getElementById("proof-of-reach-ad").innerHTML =
            "<p style='color: red; text-align: center; padding: 2rem;'>ðŸš« SDK not loaded or renderAd not available.</p>";
        }
      });
      
      // Tab switching functionality
      function showTab(tabId) {
        // Hide all content
        document.getElementById('sdk-implementation').style.display = 'none';
        document.getElementById('npm-installation').style.display = 'none';
        document.getElementById('custom-integration').style.display = 'none';
        
        // Show selected content
        document.getElementById(tabId).style.display = 'block';
        
        // Update active tab
        const tabs = document.querySelectorAll('.code-tab');
        tabs.forEach(tab => {
          tab.classList.remove('active');
          if (tab.textContent.toLowerCase().includes(tabId.split('-')[0])) {
            tab.classList.add('active');
          }
        });
      }
      
      // Copy to clipboard functionality
      function copyToClipboard(elementId) {
        const codeElement = document.querySelector(`#${elementId} code`);
        const textToCopy = codeElement.textContent;
        
        navigator.clipboard.writeText(textToCopy).then(
          function() {
            const button = document.querySelector(`#${elementId} .copy-button`);
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="copy-icon">âœ…</span> Copied!';
            setTimeout(() => {
              button.innerHTML = originalText;
            }, 2000);
          },
          function(err) {
            console.error('Could not copy text: ', err);
            alert('Failed to copy to clipboard');
          }
        );
      }
    </script>
  </body>
</html>
